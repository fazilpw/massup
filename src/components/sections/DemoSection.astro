---
// DemoSection.astro - Lista de espera estilo Spinning Center Gym

const waitlistFeatures = [
  {
    id: 'early-access',
    title: 'Acceso Temprano',
    description: 'Sé uno de los primeros en probar mass-up',
    icon: 'star',
    benefits: [
      'Beta exclusivo en febrero',
      'Feedback directo con el equipo',
      'Configuración personalizada gratis',
      'Soporte 1-a-1 durante setup'
    ]
  },
  {
    id: 'launch-pricing',
    title: 'Precios de Lanzamiento',
    description: 'Asegura los mejores precios por 12 meses',
    icon: 'price-tag',
    benefits: [
      '50% descuento primeros 6 meses',
      'Precio bloqueado por 12 meses',
      'Sin fee de setup ($400K ahorro)',
      'Funciones premium incluidas'
    ]
  },
  {
    id: 'priority-support',
    title: 'Soporte Prioritario',
    description: 'WhatsApp directo con el founder',
    icon: 'support',
    benefits: [
      'Línea directa por WhatsApp',
      'Respuesta en menos de 1 hora',
      'Capacitación personalizada',
      'Seguimiento semanal'
    ]
  },
  {
    id: 'custom-features',
    title: 'Funciones Personalizadas',
    description: 'Influye en el desarrollo del producto',
    icon: 'cog',
    benefits: [
      'Voz en roadmap de funcionalidades',
      'Integraciones específicas para tu gimnasio',
      'Reportes a medida',
      'Branding 100% personalizado'
    ]
  }
];

const waitlistStats = [
  {
    label: 'Gimnasios en lista',
    value: '47',
    change: '+12 esta semana'
  },
  {
    label: 'Lugares restantes beta',
    value: '13',
    change: 'De 60 totales'
  },
  {
    label: 'Ahorro promedio esperado',
    value: '$2.1M',
    change: 'Por gimnasio/año'
  }
];
---

<section id="lista-espera" class="py-20 bg-black">
  <div class="container mx-auto px-6">
    <!-- Header -->
    <div class="text-center mb-16">
      <div class="inline-block bg-amber-400 text-black px-4 py-2 rounded-full font-bold text-sm mb-6">
        🚀 LISTA DE ESPERA ABIERTA • Primeros 100 gimnasios
      </div>
      
      <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gray-100">
        Únete a la 
        <span class="text-amber-400 block mt-2">
          Lista de Espera
        </span>
      </h2>
      <p class="text-xl text-gray-100 max-w-3xl mx-auto mb-8 leading-relaxed">
        Sé parte de los primeros gimnasios en transformar completamente su negocio con mass-up. 
        Acceso exclusivo, precios especiales y soporte VIP.
      </p>
    
      <!-- Waitlist Stats -->
      <div class="grid md:grid-cols-3 gap-6 max-w-2xl mx-auto">
        {waitlistStats.map(stat => (
          <div class="bg-gradient-to-r from-amber-50 to-amber-100 border border-amber-200 rounded-xl p-4">
            <div class="text-2xl font-bold text-amber-600 mb-1">{stat.value}</div>
            <div class="text-sm text-amber-800 mb-1 font-medium">{stat.label}</div>
            <div class="text-xs text-amber-700">{stat.change}</div>
          </div>
        ))}
      </div>
    </div>

    <!-- Waitlist Form & Benefits -->
    <div class="grid lg:grid-cols-2 gap-12 mb-12">
      <!-- Waitlist Form -->
      <div class="order-2 lg:order-1">
        <div class="bg-gray-200 border border-gray-100 rounded-2xl p-8 shadow-lg">
          <h3 class="text-2xl font-bold mb-6 text-center text-gray-900">Asegura tu Lugar</h3>
          
          <!-- Form -->
          <form id="waitlist-form" class="space-y-6">
            <div>
              <label for="gym-name" class="block text-sm font-medium mb-2 text-gray-700">Nombre del Gimnasio *</label>
              <input 
                type="text" 
                id="gym-name" 
                name="gymName"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-100 focus:ring-2 focus:ring-amber-500 focus:border-amber-500"
                placeholder="ej: PowerFit Gym"
              />
            </div>
            
            <div>
              <label for="owner-name" class="block text-sm font-medium mb-2 text-gray-700">Tu Nombre *</label>
              <input 
                type="text" 
                id="owner-name" 
                name="ownerName"
                required
                class="w-full px-4 py-3 border border-gray-300  rounded-lg text-gray-900 bg-gray-100 focus:ring-2 focus:ring-amber-500 focus:border-amber-500"
                placeholder="ej: Carlos Mendoza"
              />
            </div>
            
            <div>
              <label for="phone" class="block text-sm font-medium mb-2 text-gray-700">WhatsApp *</label>
              <input 
                type="tel" 
                id="phone" 
                name="phone"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-100 focus:ring-2 focus:ring-amber-500 focus:border-amber-500"
                placeholder="ej: +57 310 123 4567"
              />
            </div>
            
            <div>
              <label for="members" class="block text-sm font-medium mb-2 text-gray-700">Número de Miembros Activos</label>
              <select 
                id="members" 
                name="members"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-900 focus:ring-2 focus:ring-amber-500 focus:border-amber-500"
              >
                <option value="">Selecciona rango</option>
                <option value="1-50">1-50 miembros</option>
                <option value="51-100">51-100 miembros</option>
                <option value="101-200">101-200 miembros</option>
                <option value="201-300">201-300 miembros</option>
                <option value="300+">Más de 300 miembros</option>
              </select>
            </div>
            
            <div>
              <label for="location" class="block text-sm font-medium mb-2 text-gray-700">Ubicación</label>
              <input 
                type="text" 
                id="location" 
                name="location"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 bg-gray-100 focus:ring-2 focus:ring-amber-500 focus:border-amber-500"
                placeholder="ej: Chapinero, Bogotá"
              />
            </div>

            <button 
              type="submit"
              class="w-full py-4 bg-amber-400 hover:bg-amber-500 text-black rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-xl transform hover:scale-105"
            >
              🚀 Unirme a la Lista de Espera
            </button>
          </form>
          
          <p class="text-sm text-gray-600 mt-4 text-center">
            ✅ Sin compromiso • ✅ Datos seguros • ✅ Notificación prioritaria
          </p>
        </div>
      </div>

      <!-- Benefits Showcase -->
      <div class="order-1 lg:order-2">
        <div class="space-y-6">
          {waitlistFeatures.map((feature) => (
            <div class="bg-gray-100 border border-gray-100 rounded-xl p-6 hover:border-amber-400 hover:shadow-md transition-all duration-300">
              <div class="flex items-start">
                <div class="w-12 h-12 bg-amber-400 rounded-lg flex items-center justify-center mr-4 flex-shrink-0">
                  {feature.icon === 'star' && (
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
                    </svg>
                  )}
                  {feature.icon === 'price-tag' && (
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                    </svg>
                  )}
                  {feature.icon === 'support' && (
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                  )}
                  {feature.icon === 'cog' && (
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                  )}
                </div>
                <div class="flex-1">
                  <h4 class="text-lg font-bold mb-2 text-gray-900">{feature.title}</h4>
                  <p class="text-gray-600 text-sm mb-3 leading-relaxed">{feature.description}</p>
                  <ul class="space-y-1">
                    {feature.benefits.map(benefit => (
                      <li class="flex items-center text-sm">
                        <div class="w-2 h-2 bg-amber-400 rounded-full mr-2 flex-shrink-0"></div>
                        <span class="text-gray-700 leading-relaxed">{benefit}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>

    <!-- Social Proof 
    <div class="bg-gradient-to-r from-amber-50 to-amber-100 border border-amber-200 rounded-2xl p-8 text-center mb-12">
      <h3 class="text-xl font-bold mb-4 text-gray-900">Gimnasios que ya están en la lista:</h3>
      <div class="grid md:grid-cols-3 gap-6 text-sm">
        <div class="bg-gray-100 rounded-lg p-4 border border-amber-200">
          <div class="font-medium text-gray-900">💪 PowerFit Gym</div>
          <div class="text-gray-600">Chapinero • 185 miembros</div>
        </div>
        <div class="bg-gray-100 rounded-lg p-4 border border-amber-200">
          <div class="font-medium text-gray-900">🧘‍♀️ Yoga Studio Zen</div>
          <div class="text-gray-600">Zona Rosa • 95 miembros</div>
        </div>
        <div class="bg-gray-100 rounded-lg p-4 border border-amber-200">
          <div class="font-medium text-gray-900">🏋️‍♂️ CrossFit Norte</div>
          <div class="text-gray-600">Usaquén • 240 miembros</div>
        </div>
      </div>
      
      <div class="mt-6 pt-6 border-t border-amber-200">
        <p class="text-gray-700">
          Únete a <strong class="text-amber-600">47 gimnasios</strong> que ya aseguraron su lugar en el futuro del fitness
        </p>
      </div>
    </div>-->

    <!-- Alternative Contact -->
    <div class="text-center">
      <div class="bg-gray-100 border border-gray-100 rounded-2xl p-8 shadow-lg max-w-2xl mx-auto">
        <div class="w-16 h-16 bg-amber-400 rounded-full flex items-center justify-center mx-auto mb-6">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
          </svg>
        </div>
        
        <h3 class="text-xl font-bold mb-4 text-gray-900">¿Prefieres hablar directamente?</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">
          Contáctanos por WhatsApp para resolver dudas antes de unirte a la lista de espera
        </p>
        
        <a 
          href="https://wa.me/+573181123660?text=Hola%20mass-up,%20quiero%20información%20sobre%20la%20lista%20de%20espera%20y%20los%20precios%20de%20lanzamiento"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-all shadow-lg"
        >
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
            <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
          </svg>
          Hablar por WhatsApp
        </a>
        
        <p class="text-sm text-gray-500 mt-4">
          📞 Respuesta promedio: 30 minutos • 🎯 Consulta gratuita • ✅ Sin compromiso
        </p>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const waitlistForm = document.getElementById('waitlist-form') as HTMLFormElement;
    
    if (waitlistForm) {
      waitlistForm.addEventListener('submit', function(e: Event) {
        e.preventDefault();
        
        const formData = new FormData(waitlistForm);
        const gymName = formData.get('gymName') as string;
        const ownerName = formData.get('ownerName') as string;
        const phone = formData.get('phone') as string;
        const members = formData.get('members') as string;
        const location = formData.get('location') as string;
        
        // Crear mensaje para WhatsApp
        const message = `¡Hola! Quiero unirme a la lista de espera de mass-up:

🏋️ Gimnasio: ${gymName}
👤 Nombre: ${ownerName}
📱 WhatsApp: ${phone}
👥 Miembros: ${members || 'No especificado'}
📍 Ubicación: ${location || 'No especificada'}

¡Quiero asegurar mi lugar y los precios de lanzamiento!`;
        
        // Abrir WhatsApp
        const whatsappUrl = `https://wa.me/+573181123660?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
        
        // Mostrar mensaje de confirmación
        const submitBtn = waitlistForm.querySelector('button[type="submit"]') as HTMLButtonElement;
        const originalText = submitBtn.textContent;
        submitBtn.textContent = '✅ ¡Enviado! Revisa WhatsApp';
        submitBtn.disabled = true;
        
        setTimeout(() => {
          if (originalText) {
            submitBtn.textContent = originalText;
          }
          submitBtn.disabled = false;
          waitlistForm.reset();
        }, 3000);
      });
    }
  });
</script>

<style>
  /* Professional styling */
  .container {
    max-width: 1200px;
  }
  
  /* Form styles for better visibility */
  input::placeholder {
    color: #9ca3af;
  }
  
  select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }
  
  /* Focus states */
  input:focus,
  select:focus {
    outline: none;
  }
  
  /* Smooth transitions */
  * {
    transition: all 0.3s ease;
  }
</style>