---
// RolesSection.astro - Estilo Spinning Center Gym

const roles = [
  {
    id: 'admin',
    name: 'Dueños y Administradores',
    subtitle: 'Control total de tu gimnasio',
    icon: 'admin',
    color: 'amber',
    benefits: [
      'Panel de control completo del gimnasio',
      'Gestiona rutinas y asigna profesores',
      'Reportes de ingresos automáticos',
      'Control de asistencia en tiempo real',
      'Recordatorios de pago automáticos',
      'Métricas de retención y crecimiento'
    ],
    useCases: [
      'Ve todos los ingresos del mes en un dashboard',
      'Crea rutinas nuevas en 5 minutos',
      'Recibe alertas cuando hay problemas de pago',
      'Analiza qué clases son más populares'
    ],
    metric: {
      value: '20h/semana',
      description: 'Tiempo ahorrado en administración'
    }
  },
  {
    id: 'profesor',
    name: 'Profesores y Entrenadores',
    subtitle: 'Herramientas profesionales para entrenar',
    icon: 'professor',
    color: 'gray',
    benefits: [
      'Marca inicio de clases con un simple QR',
      'Ve las rutinas de todos tus alumnos',
      'Seguimiento del progreso individual',
      'Comunicación directa con miembros',
      'Horarios y asignaciones claras',
      'Reportes de asistencia por clase'
    ],
    useCases: [
      'Escanea QR y automáticamente marca la clase',
      'Ve que Juan lleva 3 semanas en rutina de brazos',
      'Envía mensajes a alumnos sobre su progreso',
      'Revisa cuántas personas vienen a spinning'
    ],
    metric: {
      value: '+3 alumnos',
      description: 'Promedio más por profesor'
    }
  },
  {
    id: 'cliente',
    name: 'Miembros del Gimnasio',
    subtitle: 'Experiencia fitness completa',
    icon: 'client',
    color: 'slate',
    benefits: [
      'Acceso con QR, sin tarjetas que perder',
      'Rutinas personalizadas siempre actualizadas',
      'Tips nutricionales diarios con IA',
      'Reserva clases desde el celular',
      'Pago automático por Nequi sin filas',
      'Historial completo de entrenamientos',
      'Notificaciones de bienestar personalizadas',
      'Celebración automática de logros',
      'Recordatorios inteligentes de cuidado'
    ],
    useCases: [
      'Llegas al gimnasio, escaneas y entras',
      'Abres la app y ves tu rutina del día',
      'Recibes tip: "Come proteína post-entreno"',
      'Reservas yoga de mañana desde casa',
      'Recibes "¡Felicidades, perdiste 2kg!" automáticamente',
      'Te recuerda hidratarte después del entrenamiento'
    ],
    metric: {
      value: '+35%',
      description: 'Mayor retención vs. gimnasios tradicionales'
    }
  }
];
---

<section class="py-20 bg-black">
  <div class="container mx-auto px-6">
    <!-- Header -->
    <div class="text-center mb-16">
      <div class="inline-block bg-amber-400 text-black px-4 py-2 rounded-full font-bold text-sm mb-6">
        EXPERIENCIAS PERSONALIZADAS
      </div>
      <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gray-100">
        Una App, 
        <span class="text-amber-400 block mt-2">
          Tres Experiencias Perfectas
        </span>
      </h2>
      <p class="text-xl text-gray-100 max-w-3xl mx-auto leading-relaxed">
        Cada persona en tu gimnasio tiene una interfaz diseñada específicamente para sus necesidades. 
        Sin complicaciones, funcionalidad profesional.
      </p>
    </div>

    <!-- Role Tabs -->
    <div class="flex justify-center mb-12">
      <div class="bg-white rounded-2xl p-2 shadow-sm border border-gray-100">
        {roles.map((role, index) => (
          <button 
            class={`role-tab px-6 py-3 rounded-xl font-semibold transition-all duration-300 ${index === 0 ? 'active' : ''}`}
            data-role={role.id}
          >
            {role.name}
          </button>
        ))}
      </div>
    </div>

    <!-- Role Content -->
    {roles.map((role, index) => (
      <div class={`role-content ${role.id} ${index === 0 ? 'active' : ''}`}>
        <div class="bg-stone-50 rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
          <div class="grid lg:grid-cols-2 gap-0">
            <!-- Content Side -->
            <div class="p-8 lg:p-12">
              <!-- Role Header -->
              <div class="mb-8">
                <div class="w-16 h-16 bg-amber-400 rounded-2xl flex items-center justify-center mb-6">
                  {role.icon === 'admin' && (
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4"></path>
                    </svg>
                  )}
                  {role.icon === 'professor' && (
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                  )}
                  {role.icon === 'client' && (
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                  )}
                </div>
                
                <h3 class="text-3xl font-bold text-gray-900 mb-2">{role.name}</h3>
                <p class="text-lg text-gray-600 mb-6 leading-relaxed">{role.subtitle}</p>
                
                <!-- Metric destacado -->
                <div class="bg-gradient-to-r from-amber-50 to-amber-100 border border-amber-200 rounded-xl p-4 mb-8">
                  <div class="text-3xl font-bold text-amber-600 mb-1">{role.metric.value}</div>
                  <div class="text-sm text-amber-700 font-medium">{role.metric.description}</div>
                </div>
              </div>

              <!-- Benefits -->
              <div class="mb-8">
                <h4 class="text-xl font-bold text-gray-900 mb-4">Funcionalidades incluidas:</h4>
                <ul class="space-y-3">
                  {role.benefits.map((benefit) => (
                    <li class="flex items-start">
                      <div class="w-2 h-2 bg-amber-400 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                      <span class="text-gray-700 leading-relaxed">{benefit}</span>
                    </li>
                  ))}
                </ul>
              </div>

              <!-- Use Cases -->
              <div>
                <h4 class="text-xl font-bold text-gray-900 mb-4">Casos de uso diarios:</h4>
                <div class="space-y-4">
                  {role.useCases.map((useCase, index) => (
                    <div class="bg-gray-100 rounded-lg p-4 border-l-4 border-amber-400">
                      <div class="flex items-start">
                        <div class="w-6 h-6 bg-amber-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-0.5 flex-shrink-0">
                          {index + 1}
                        </div>
                        <p class="text-gray-800 text-sm leading-relaxed">{useCase}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            <!-- Mockup Side -->
            <div class="bg-gradient-to-br from-gray-100 to-gray-800 p-8 lg:p-12 flex items-center justify-center relative">
              <!-- Background Pattern -->
              <div class="absolute inset-0 opacity-10">
                <div class="absolute top-10 left-10 w-20 h-20 border border-amber-400 rounded-full"></div>
                <div class="absolute bottom-10 right-10 w-16 h-16 border border-amber-400 rounded-full"></div>
                <div class="absolute top-1/2 right-20 w-12 h-12 border border-amber-400 rounded-full"></div>
              </div>

              <!-- Phone Mockup -->
              <div class="relative z-10">
                <div class="w-64 h-128 bg-black rounded-[2.5rem] shadow-2xl p-2">
                  <div class="w-full h-full bg-stone-50 rounded-[2rem] overflow-hidden">
                    <!-- Dynamic content based on role -->
                    {role.id === 'admin' && (
                      <div class="h-full bg-gradient-to-br from-amber-50 to-white p-6 flex flex-col">
                        <div class="flex items-center justify-between mb-6">
                          <h5 class="font-bold text-gray-900">Dashboard</h5>
                          <div class="w-8 h-8 bg-amber-400 rounded-full"></div>
                        </div>
                        
                        <!-- Stats Cards -->
                        <div class="grid grid-cols-2 gap-3 mb-6">
                          <div class="bg-stone-50 rounded-lg p-3 shadow-sm border border-gray-100">
                            <div class="text-2xl font-bold text-amber-600">142</div>
                            <div class="text-xs text-gray-600">Miembros</div>
                          </div>
                          <div class="bg-stone-50 rounded-lg p-3 shadow-sm border border-gray-100">
                            <div class="text-2xl font-bold text-green-600">$4.2M</div>
                            <div class="text-xs text-gray-600">Este mes</div>
                          </div>
                        </div>
                        
                        <!-- Quick Actions -->
                        <div class="space-y-3">
                          <div class="bg-stone-50 rounded-lg p-3 shadow-sm border border-gray-100">
                            <div class="text-sm font-medium text-gray-900">Clase Spinning</div>
                            <div class="text-xs text-gray-500">15 personas - En curso</div>
                          </div>
                          <div class="bg-stone-50 rounded-lg p-3 shadow-sm border border-gray-100">
                            <div class="text-sm font-medium text-gray-900">Rutina - María García</div>
                            <div class="text-xs text-gray-500">Actualizada hace 2 días</div>
                          </div>
                        </div>
                      </div>
                    )}
                    
                    {role.id === 'profesor' && (
                      <div class="h-full bg-gradient-to-br from-gray-50 to-white p-6 flex flex-col">
                        <div class="flex items-center justify-between mb-6">
                          <h5 class="font-bold text-gray-900">Mis Clases</h5>
                          <div class="w-8 h-8 bg-amber-400 rounded-full"></div>
                        </div>
                        
                        <!-- QR Scanner -->
                        <div class="bg-stone-50 rounded-lg p-4 mb-4 text-center border border-gray-100 shadow-sm">
                          <div class="w-16 h-16 bg-amber-100 rounded-lg mx-auto mb-2 flex items-center justify-center">
                            <svg class="w-8 h-8 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h4M4 4h5l7 7h-6L4 4z"></path>
                            </svg>
                          </div>
                          <div class="text-sm font-medium text-gray-900">Marcar Clase</div>
                          <div class="text-xs text-gray-500">Toca para escanear QR</div>
                        </div>
                        
                        <!-- Student List -->
                        <div class="space-y-2">
                          <div class="bg-stone-50 rounded-lg p-3 shadow-sm border border-gray-100">
                            <div class="text-sm font-medium text-gray-900">Carlos Mendoza</div>
                            <div class="text-xs text-gray-500">Rutina: Fuerza • Semana 3</div>
                          </div>
                          <div class="bg-stone-50 rounded-lg p-3 shadow-sm border border-gray-100">
                            <div class="text-sm font-medium text-gray-900">Ana López</div>
                            <div class="text-xs text-gray-500">Rutina: Cardio • Semana 1</div>
                          </div>
                        </div>
                      </div>
                    )}
                    
                    {role.id === 'cliente' && (
                      <div class="h-full bg-gradient-to-br from-amber-50 to-white p-6 flex flex-col">
                        <div class="flex items-center justify-between mb-6">
                          <h5 class="font-bold text-gray-900">Mi Entrenamiento</h5>
                          <div class="w-8 h-8 bg-amber-400 rounded-full"></div>
                        </div>
                        
                        <!-- QR Access -->
                        <div class="bg-stone-50 rounded-lg p-4 mb-4 text-center border border-gray-100 shadow-sm">
                          <div class="w-20 h-20 bg-amber-100 rounded-lg mx-auto mb-2 flex items-center justify-center">
                            <div class="w-12 h-12 bg-amber-400 rounded"></div>
                          </div>
                          <div class="text-sm font-medium text-gray-900">Mi QR de Acceso</div>
                          <div class="text-xs text-gray-500">Escanea para entrar</div>
                        </div>
                        
                        <!-- Today's Routine -->
                        <div class="bg-stone-50 rounded-lg p-4 mb-4 border border-gray-100 shadow-sm">
                          <div class="text-sm font-medium mb-2 text-gray-900">Rutina de Hoy</div>
                          <div class="space-y-2">
                            <div class="flex justify-between text-xs">
                              <span class="text-gray-700">Press banca</span>
                              <span class="text-gray-500">3x12</span>
                            </div>
                            <div class="flex justify-between text-xs">
                              <span class="text-gray-700">Sentadillas</span>
                              <span class="text-gray-500">4x10</span>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Nutrition Tip -->
                        <div class="bg-amber-50 rounded-lg p-3 border border-amber-200">
                          <div class="text-sm font-medium text-amber-800 mb-1">💡 Tip del día</div>
                          <div class="text-xs text-amber-700">Come proteína dentro de 30 min post-entreno</div>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    ))}

    <!-- Bottom CTA -->
    <div class="text-center mt-16">
      <div class="bg-stone-50 rounded-2xl p-8 shadow-lg border border-gray-100 max-w-2xl mx-auto">
        <h3 class="text-2xl font-bold text-gray-900 mb-4">¿Quieres ver cómo funciona para tu gimnasio?</h3>
        <p class="text-gray-600 mb-6 leading-relaxed">
          Agenda una demo personalizada donde configuramos la app con tu marca y datos reales
        </p>
        <div class="flex flex-col sm:flex-row gap-3 justify-center">
          <a 
            href="#demo" 
            class="inline-flex items-center justify-center px-6 py-3 bg-amber-400 hover:bg-amber-500 text-white rounded-xl font-bold transition-all"
          >
            Ver Demo Interactivo
          </a>
          <a 
            href="https://wa.me/+573181123660?text=Hola%20mass-up,%20quiero%20ver%20una%20demo%20personalizada%20para%20mi%20gimnasio"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center px-6 py-3 border-2 border-amber-400 text-amber-600 hover:bg-amber-50 rounded-xl font-bold transition-all"
          >
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
            </svg>
            Hablar por WhatsApp
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .role-tab {
    color: #6b7280;
    position: relative;
  }
  
  .role-tab.active {
    background: #fbbf24;
    color: #000000;
  }
  
  .role-tab:hover:not(.active) {
    background: #f3f4f6;
    color: #374151;
  }
  
  .role-content {
    display: none;
  }
  
  .role-content.active {
    display: block;
    animation: fadeInUp 0.5s ease-out;
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Phone mockup specific styles */
  .h-128 {
    height: 32rem;
  }
  
  /* Professional styling */
  .container {
    max-width: 1200px;
  }
  
  /* Smooth transitions */
  * {
    transition: all 0.3s ease;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const roleTabs = document.querySelectorAll('.role-tab') as NodeListOf<HTMLButtonElement>;
    const roleContents = document.querySelectorAll('.role-content') as NodeListOf<HTMLElement>;
    
    roleTabs.forEach(tab => {
      tab.addEventListener('click', function() {
        const targetRole = this.dataset.role;
        
        // Remove active from all tabs and contents
        roleTabs.forEach(t => t.classList.remove('active'));
        roleContents.forEach(content => content.classList.remove('active'));
        
        // Add active to clicked tab and corresponding content
        this.classList.add('active');
        const targetContent = document.querySelector(`.role-content.${targetRole}`) as HTMLElement;
        if (targetContent) {
          targetContent.classList.add('active');
        }
      });
    });
  });
</script>